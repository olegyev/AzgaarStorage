<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
<h1>YO!</h1>

<script>
    /*var loginWindow = window.open("http://localhost:8080/oauth2/authorization/google", "_self");
    loginWindow.focus();*/

    // loginWindow.addEventListener('change',  close);

    /*if (loginWindow.location.href.indexOf("/login") < 0) {
        alert(opener.location.href);
    }*/

    /*var id = setInterval(function () {
        alert(opener.location.href);
        if (loginWindow.location.href.indexOf("/login") < 0) {
            clearInterval(id);
        }
    }, 500);*/

    /*loginWindow.onbeforeunload = function () {
        alert("YO!");
    };*/

    //loginWindow.addEventListener("load", close);

    /*function close() {
        alert("YO!!!")
    }*/

    /*var timer = setInterval(function() {
        if(loginWindow.closed) {
            clearInterval(timer);
            alert('closed');
        }
    }, 1000);*/

    /*if (loginWindow.location.href === 'about:blank') {
        alert(loginWindow.location.href);
        loginWindow.close();
    }*/

    /*loginWindow.onbeforeunload = function () {
        alert(loginWindow.location.href);
    }*/

    /*var self = this;

    var detectsUrl = setInterval(function() {
        var a = loginWindow.document.createElement('a');
        a.href = loginWindow.document.URL;
        if (a.hostname === "localhost") {
            loginWindow.close();
            clearInterval(detectsUrl);
            self.callback();
        }
    }, 1000);*/

    /*alert(loginWindow.opener.location.href);

    if (!loginWindow.location.href.includes("login")) {
        loginWindow.close();
    }*/
</script>
</body>
</html>